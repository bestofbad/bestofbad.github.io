---
layout: my_archive
title: "01. TF1.x: Introduction to Graph(연산/계산 설계도)"
date: "2020-12-13"
categories: [DL, Tensorflow, tf-basic]
tags: [Deep Learning, Tensorflow, Basic Practice, Introduction to Graph, what graph is in tensorflow 1.x]
sidebar:
  nav: "DL"
---

## 01. Introduction to Graph(연산/계산 설계도)

### 1-1. Default Graph 사용
- 연산을 위한 설계도(Graph)를 별도 정의하지 않으면, 기본적으로 제공되는 Graph가 자동 적용.

```python
import tensorflow as tf

a1 = tf.Variable(3)
b1 = tf.Variable(5)
c1 = a1 + b1

sess1 = tf.Session()       #.Session() 괄호에 아무것도 없으면 기본 Graph가 자동 적용됨.
sess1.run(tf.global_variables_initializer())
print(sess1.run(c1))       # 계산 결과는 print안에서 .run을 호출해야 함.
```

### Session 저장
```python
saver = tf.train.Saver()
saver.save(sess1,'saved/my_test_sess')
```


### 1-2. Customer Graph 사용
```python
cg1 = tf.Graph()
sess2 = tf.Session(graph = cg1)


with cg1.as_default():

    a2 = tf.Variable(3)
    b2 = tf.Variable(5)
    c2 = a2 + b2
    
    sess2.run(tf.global_variables_initializer())
    
    #모델 저장 시 별도의 saver를 만들어준다.
    saver2 = tf.train.Saver()
    saver2.save(sess2,'saved/my_test_sess') 
    
    writer = tf.summary.FileWriter("./log", sess2.graph)
    
    #summary_writer = tf.train.SummaryWriter("my_sess2_summary", sess2.graph)
    
print(sess2.run(c2))
```

- tensorboard 확인은 prompt window에서 입력
```python
tensorboard --logdir=./log
```

{: .notice--info}